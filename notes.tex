\documentclass{article}
\usepackage{style}

\author{Franz Miltz}
\title{Sheaf theory}

\usepackage{biblatex}
\addbibresource{sources.bib}

\begin{document}
\maketitle
\tableofcontents
\pagebreak

\section{Category theory}\label{sec:categories_and_functors}

Categories generalise the notion of algebraic objects and their homomorphisms.
Rather than focusing on the internal structure of the objects, we study the
morphisms between them. In this section we define basic categorical concepts that
we require for later developments.

\subsection{Categories}

Fundamentally, categories consist of objects and morphisms. We may compose morphisms
and each object has an identity morphism that serves as a unit for composition.

\begin{definition}\label{def:category}
  A \emph{category} $\cat C$ consists of
  \begin{enumerate}
    \item a class of objects $\Obj_{\cat{C}}$;
    \item for all $X,Y\in\Obj_{\cat{C}}$, a class of arrows $\cat{C}\rr{X,Y}$;
    \item for all $X\in\Obj_{\cat{C}}$, an arrow $\id_X\in\cat{C}\rr{X,X}$;
    \item for all $f\in\cat{C}\rr{X,Y}$ and $g\in\cat{C}\rr{Y,Z}$, an arrow
      $g\circ f\in\cat{C}\rr{X,Z}$
  \end{enumerate}
  such that
  \begin{enumerate}
    \item for all $f\in\cat{C}\rr{X,Y}$, $f\circ \id_X = f = \id_Y\circ f$;
    \item for all $f\in\cat{C}\rr{W,X}$, $g\in\cat{C}\rr{X,Y}$, $h\in\cat{C}\rr{Y,Z}$,
      $h\circ(g\circ f)=(h\circ g)\circ f$.
  \end{enumerate}
\end{definition}

\begin{notation}
  We improve notation as follows:
  \begin{itemize}
    \item $X\in\cat{C}$ means $X\in\Obj\cat{C}$;
    \item $f:X\to Y$ in $\cat{C}$ means $X,Y\in\Obj\cat{C}$ and $f\in\cat{C}\rr{X,Y}$;
    \item for composable arrows $f$ and $g$ in $\cat{C}$, we may write $gf$ to mean $g\circ f$.
  \end{itemize}
\end{notation}

Categories are a generalisation of monoids. Consider a monoid $(M,*,\id)$. We
may regard this as a category $\mathcal B M$ with a single object $\bullet$.
Each $m\in M$ we have an arrow $\mathcal B m:\bullet\to\bullet$ such that the
composition agrees with the multiplication: $\mathcal B(m')\circ\mathcal Bm =
\mathcal B(m * m')$. In this sense, one may think of categories as a monoid
with more than one object. \note{notation?}

\begin{example}\note{rational maps and varieties}
  Categories come in various different flavours:
  \begin{itemize}
    \item $\Set$: objects are sets, arrows are functions;
    \item $\Grp$: objects are groups, arrows are homomorphisms
    \item For any poset $(P,\leq)$, we have a category with objects $x\in P$,
      a unique arrow $x\to y$ iff $x\leq y$, and composition of $x\to y$ and
      $y\to z$ yields the unique arrow $x\to z$ which exists by transitivity
      of $\leq$.
    \item Using the above, for any topological space $X$, the poset of open sets
      $(\text{Opens}X, \subseteq)$ may be regarded as a category. This will prove
      particularly important.
  \end{itemize}
\end{example}

Observe some fundamental differences. Firstly, the arrows in $\Set$ and $\Grp$
functions. Thinking about arrows in abstract categories as functions
intuitively seems like a good idea. One needs to be careful, however. The poset
example demonstrates that this intuition is flawed. Secondly, there are size
differences. While the poset category has as many objects as the poset itself,
categories like $\Set$ and $\Grp$ are much larger. In fact, we know that
$\Obj_{\Set}$ is a proper class. When the collection of objects of a category
is a proper class it is called \emph{large} and otherwise \emph{small}.

Just like other areas of mathematics, we particluarly care about invertible
arrows:

\begin{definition}
  Let $\cat{C}$ be a category. An \emph{isomorphism} in $\cat{C}$ is an arrow
  $f:X\to Y$ such that there exists an arrow $g:Y\to X$ with $f\circ g = \id$
  and $g\circ f = \id$.
\end{definition}

\begin{example}
  We already know what isomorphisms are:
  \begin{itemize}
    \item In $\Set$, isomorphisms are bijections.
    \item In $\Grp$, isomorphisms are isomorphisms of groups.
    \item In a poset regardes as a category, the only isomorphisms are the
      identities.
  \end{itemize}
\end{example}

We would like to talk about the inverse of an isomorphism. This is well-defined.

\begin{proposition}\label{prop:inverses_are_unique}
  Let $f:X\to Y$ be an isomorphism in $\cat{C}$. If $g,g':Y\to X$ are inverses of
  $f$, then $g=g'$.
  \begin{proof}
    Note $\id=f\circ g$. In particular $g'=g'\circ(f\circ g) = (g'\circ f)\circ g=g$.
  \end{proof}
\end{proposition}

\subsection{Functors}

Functors are morphisms between categories. In the definition of a category (cf.
\ref{def:category}) we have four pieces of structure. Functors preserve these.
That is, functors map objects to objects and arrows to arrows in a way that
preserves identitites and composition.

\begin{definition}\label{def:functor}
  Let $\cat{C},\cat{D}$ be categories. A \emph{functor} $F:\cat{C}\to\cat{D}$
  consists of
  \begin{enumerate}
    \item for each $X\in\cat{C}$, an object $FX\in\cat{D}$;
    \item for each $f:X\to Y$ in $\cat{C}$, an arrow $Ff:FX\to FY$
  \end{enumerate}
  such that
  \begin{enumerate}
    \item for all $X\in\cat{C}$, $F(\id_X)=\id_{FX}$;
    \item for all composable arrows $f,g$ in $\cat{C}$, $F\rr{g\circ f}=Fg\circ Ff$.
  \end{enumerate}
\end{definition}

\begin{example}
  A group is just a set with some additional structure. Similarly,
  a group homomorphism is a function that satisfies some
  additional conditions. We may write the underlying set of a group $G$
  as $UG$ and the underlying function of a group homomorphism $f:G\to H$
  as $Uf:UG\to UH$. We thus have a functor structure $U:\Grp\to\Set$.
  It is straightforward to verify that the axioms are satisfied:
  $U(\id) = \id$ and $U(g\circ f) = Ug\circ Uf$ hold precisely because
  the morphisms in $\Grp$ are really just functions.
\end{example}

\begin{example}
  Taking powersets is functorial. Consider the functor structure $\mathcal
  P:\Set\to\Set$ sending sets to their powersets and functions $f:X\to Y$ to
  their direct image maps $A\mapsto \cc{f(x) : x\in A}$. Once again, we
  verify the axioms. Consider a subset $A\subset X$. Then
  \begin{align*}
    \mathcal P(\id)(A) &= \cc{\id(x) : x \in A} \\
                       &= \cc{x : x \in A} \\
                       &= A.
  \end{align*}
  Similarly, consider functions $f:X\to Y$ and $g:Y\to Z$ and a subset
  $A\subseteq X$. Then
  \begin{align*}
    \mathcal P(g\circ f)(A) &= \cc{ g(f(x)) : x\in A} \\
                            &= \cc{g(y) : y \in \cc{f(x) : x \in A}}\\
                            &= Pg(\cc{f(x) : x \in A}) \\
                            &= (Pg\circ Pf)(A).
  \end{align*}
\end{example}

We now have another category, $\Cat$, with objects all small categories, and
arrows are functors. It is also possible to define a category $\CAT$ of
all categories and all functors. Some care needs to be taken to avoid
set theoretic complications. This may be achieved using suitable universes,
see e.g.~\cite{maclane1997}.

\subsection{Natural transformations}

For each set $W$, consider the functor $F_W:\Set\to\Set$ taking $X$ to $X\times W$
and $f:X\to Y$ to $x,w\mapsto f(x),w$. Let us investigate this family of
functors.

\begin{itemize}
  \item If $W$ is the empty set, then is degenerate: $F_\emptyset f$ is simply
    the unique function $\emptyset\to\emptyset$.
  \item If $W$ is a singleton, then $F_W$ neither adds nor removes any structure.
    That is, for all sets $X$, there is a bijection $F_W X\cong X$. Thus we also
    have a bijection $\Set(F_W X,F_W Y)\cong\Set(X,Y)$.
  \item If $W\subseteq W'$, then, for all $X$, $F_W X\subseteq F_{W'}X$. Similarly,
    a function $F_{W}f$ is just a restriction of $F_{W'}f$. Thus we have an
    injective map $\Set(F_W X, F_W Y)\to\Set(F_{W'} X, F_{W'} Y)$.
\end{itemize}

To describe the relation between parallel functors such as the $F_W$ more
formally, we define natural transformations.

\begin{definition}
  Let $F,G:\cat{C}\to\cat{D}$ be functors. A \emph{natural transformation
  $\phi:F\Rightarrow G$} consists of, for all $X\in\cat{C}$,
  an arrow $\phi_X : FX \to GX$ in $\cat{D}$ such that, for all
  $f:X\to Y$ in $\cat{C}$, the following commutes:
  \begin{equation}
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJGWCJdLFswLDEsIkZZIl0sWzIsMSwiR1kiXSxbMiwwLCJHWCJdLFswLDEsIkZmIiwyXSxbMywyLCJHZiJdLFsxLDIsIlxccGhpX1kiLDJdLFswLDMsIlxccGhpX1giXV0=
    \begin{tikzcd}
      FX && GX \\
      FY && GY
      \arrow["Ff"', from=1-1, to=2-1]
      \arrow["Gf", from=1-3, to=2-3]
      \arrow["{\phi_Y}"', from=2-1, to=2-3]
      \arrow["{\phi_X}", from=1-1, to=1-3]
    \end{tikzcd}
  \end{equation}
\end{definition}

\begin{notation}
  We will drop the subscripts of the components whenever it is convenient to do so.
\end{notation}

\begin{example}
  Consider the $F_W$ from earlier.
  \begin{itemize}
    \item We have a natural transformation $\phi:F_\emptyset \Rightarrow
      \Delta\emptyset$, where $\Delta\emptyset$ is the constant functor
      $X\mapsto\emptyset$. The components are the unique functions
      $\phi_X:\emptyset\to\emptyset$ and the naturality condition is trivial.
    \item For $W$ a singleton, we have a natural transformation $\phi:F_W\Rightarrow
      \text{Id}$ where $\text{Id}$ is the identity functor on $\Set$. The
      components are the projections $\phi_X(x,w)=x$. Naturality is easily
      verified: $\phi(F_W f(x,w))=\phi(f(x),w) = f(x) = f(\phi(x,w))$.
    \item For subsets $W\subseteq W'$, we have natural transformations
      $\phi:F_W\Rightarrow F_{W'}$ given by the inclusions $\phi(x,w) = (x,w)$.
      Naturality now becomes
      \begin{align*}
        \phi(F_W(f)(x,w)) = \phi(f(x),w) = (f(x),w) = F_{W'}(f)(x,w) =
        F_{W'}(f)(\phi(x,w)).
      \end{align*}
  \end{itemize}
\end{example}

Chasing elements around like this is not pretty. Moreover, we have already
seen that it is, in general, not possible. We will therefore make use of
categorical language and diagrams whenever possible.

\subsection{Limits}

Fix a category $\cat{C}$.

There are many interesting structures to be studied within a category. Many of these
structures are captured by limits, an object that is particularly suitable
for mapping into a particular part of the category.

In order to capture the notion of a structure within a category, we introduce
formal diagrams. These are not to be confused with the commutative diagrams that
we use to present equations.

\begin{definition}
  A \emph{diagram in $\cat{C}$} is a functor $D:\cat{J}\to\cat{C}$.
\end{definition}

Diagrams may be thought of marking certain objects and arrows in the category.
Now a cone of such a diagram is an object that has a consistent way of entering
the structure:

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{cone of $D$} consists of
  \begin{enumerate}
    \item an object $C\in\cat{C}$;
    \item a natural transformation $\phi:\Delta C\Rightarrow D$.
  \end{enumerate}
\end{definition}

Let us investigate this definition in detail. Consider a diagram
$D:\cat{J}\to\cat{C}$. A cone $(C,\phi)$ is a choice of object $C\in\cat{C}$
and morphisms $\phi_J:C\to DJ$ for all $J\in\cat{J}$ such that the following
commutes:
\begin{equation}
  % https://q.uiver.app/?q=WzAsMyxbMCwxLCJESiJdLFsyLDEsIkRKJyJdLFsxLDAsIkMiXSxbMCwxLCJEZiIsMl0sWzIsMSwiXFxwaGlfe0onfSJdLFsyLDAsIlxccGhpX0oiLDJdXQ==
  \begin{tikzcd}
  & C \\
    DJ && {DJ'}
    \arrow["Df"', from=2-1, to=2-3]
    \arrow["{\phi_{J'}}", from=1-2, to=2-3]
    \arrow["{\phi_J}"', from=1-2, to=2-1]
  \end{tikzcd}
\end{equation}

\begin{example}
  Consider a family of sets $\mathcal J=\cc{X_\alpha}_{\alpha\in\Lambda}$. We may
  regard this as a category with no morphisms. We then have
  the obvious inclusion functor $D:\mathcal J\to\Set$. Consider the cartesian
  product with the projections
  \begin{align*}
    \pi_\alpha : \prod_{\alpha\in\Lambda} X_\alpha \to X_\alpha.
  \end{align*}
  This defines a natural transformation
  \begin{align*}
    \pi : \Delta\rr{\prod_{\alpha\in\Lambda} X_\alpha}\Rightarrow D
  \end{align*}
  In particular, there are no non-identity arrows in $\mathcal J$ so
  naturality is trivially satisfied.
\end{example}

It is tempting to think of a cone as merely an object. This is problematic as
the natural transformation is not unique, even when the object is fixed. In
fact, if we have a cone $(C,\phi)$ then any arrow $f:C'\to C$ induces another
$D$-cone $(C',\phi\circ f)$. In particular, any endomorphism $f:C\to C$ induces
its own cone $(C,\phi\circ f)$.


Cones are objects with additional structure. Morphisms between them must preserve
this structure.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram and consider cones $(C,\phi)$ and
  $(C',\phi')$. Then a \emph{morphism of cones $f:(C,\phi)\to(C',\phi')$} consists of
  an arrow $f:C\to C'$ such that, for all $J\in\cat{J}$, the following
  commutes:
  \begin{equation}
    % https://q.uiver.app/?q=WzAsMyxbMCwwLCJDIl0sWzIsMCwiQyciXSxbMSwxLCJESiJdLFswLDEsImYiXSxbMSwyLCJcXHBoaV9KJyJdLFswLDIsIlxccGhpX0oiLDJdXQ==
    \begin{tikzcd}
      C && {C'} \\
        & DJ
        \arrow["f", from=1-1, to=1-3]
        \arrow["{\phi_J'}", from=1-3, to=2-2]
        \arrow["{\phi_J}"', from=1-1, to=2-2]
    \end{tikzcd}
  \end{equation}
\end{definition}

We now have a category of cones for every diagram.
A cone that factors through every other cone is a limit.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{limit of $D$} is a cone
  $(C,\phi)$ such that, for all other cones $(C',\phi')$, there is a unique morphism
  $(C',\phi')\to(C,\phi)$.
\end{definition}

One may think of a limit has having the least amount of information to be a cone.
This intuition is particularly helpful because limits are unique up to isomorphism.

\begin{proposition}\label{prop:limits_are_unique}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. If $\phi:\Delta C\Rightarrow D$
  and $\psi:\Delta C'\Rightarrow D$ are limits then they are isomorphic as cones.
  \begin{proof}
    By definition, there are unique cone morphisms $f:\phi\to\psi$ and
    $g:\psi\to\phi$. By definition, the following commutes:
    \begin{equation}
      % https://q.uiver.app/?q=WzAsNCxbMCwwLCJDIl0sWzIsMCwiQyciXSxbMiwyLCJESiJdLFs0LDAsIkMiXSxbMCwxLCJmIl0sWzEsMiwiXFxwc2kiXSxbMCwyLCJcXHBoaSIsMl0sWzMsMiwiXFxwaGkiXSxbMSwzLCJnIl1d
      \begin{tikzcd}
        C && {C'} && C \\
        \\
          && DJ
          \arrow["f", from=1-1, to=1-3]
          \arrow["\psi", from=1-3, to=3-3]
          \arrow["\phi"', from=1-1, to=3-3]
          \arrow["\phi", from=1-5, to=3-3]
          \arrow["g", from=1-3, to=1-5]
      \end{tikzcd}
    \end{equation}
    Thus $g\circ f:\phi\to\phi$ must be the unique morphism of cones, i.e.
    the identity. By symmetry we find $f\circ g=\id$ and the claim follows.
  \end{proof}
\end{proposition}

\begin{notation}
  This observation allows us to greatly improve our notation. Consider a diagram
  $D$ with a limit in $\cat{C}$. We may now choose a particular limit and denote
  it by
  \begin{align*}
    \lim_{J\in\cat{J}}\rr{DJ},\hs\text{or}\hs\lim D,
  \end{align*}
  depending on whether we need to specify the object.
\end{notation}

Note however that the limit of a particular diagram may not exist. Unfortunately, we
are not in a position to give a meaningful example because the category $\Set$ has
all small limits.

\begin{theorem}
  Let $\scat J$ be a small category and $D:\scat J\to\Set$ a diagram. Then $D$ has a limit.
\end{theorem}

\note{products}

\note{remark circular definition}

\subsection{Colimits}

Colimits are dual to limits. Almost all considerations of the last section translate
to colimits. Fix a category $\cat{C}$.

Firstly, we have cocones. Where cones provide a way to enter a diagram that is consistent
with its structure, cocones provide such a way to leave the diagram.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{cocone of $D$} consists of
  \begin{enumerate}
    \item an object $C\in\cat{C}$;
    \item a natural transformation $\phi:D\Rightarrow\Delta C$.
  \end{enumerate}
  Consider cocones $(C,\phi)$ and $(C',\phi')$. Then a \emph{morphism of cocones $f:(C,\phi)\to(C',\phi')$} consists of
  an arrow $f:C\to C'$ such that, for all $J\in\cat{J}$, the following
  commutes:
  \begin{equation}
    % https://q.uiver.app/?q=WzAsMyxbMCwxLCJDIl0sWzIsMSwiQyciXSxbMSwwLCJESiJdLFswLDEsImYiLDJdLFsyLDEsIlxccGhpX0onIl0sWzIsMCwiXFxwaGlfSiIsMl1d
    \begin{tikzcd}
  & DJ \\
      C && {C'}
      \arrow["f"', from=2-1, to=2-3]
      \arrow["{\phi_J'}", from=1-2, to=2-3]
      \arrow["{\phi_J}"', from=1-2, to=2-1]
    \end{tikzcd}
  \end{equation}
\end{definition}

For a diagram $D:\cat{J}\to\cat{C}$, a cocone $(C,\phi)$ is a choice of object
$C\in\cat{C}$ and morphisms $\phi_J:DJ\to C$ for all $J\in\cat{J}$ such that
the following commutes:
\begin{equation}
  % https://q.uiver.app/?q=WzAsMyxbMCwwLCJESiJdLFsyLDAsIkRKJyJdLFsxLDEsIkMiXSxbMCwxLCJEZiJdLFsxLDIsIlxccGhpX3tKJ30iXSxbMCwyLCJcXHBoaV9KIiwyXV0=
  \begin{tikzcd}
    DJ && {DJ'} \\
       & C
       \arrow["Df", from=1-1, to=1-3]
       \arrow["{\phi_{J'}}", from=1-3, to=2-2]
       \arrow["{\phi_J}"', from=1-1, to=2-2]
  \end{tikzcd}
\end{equation}

\begin{example}\note{fix example to include coproducts, possibly defining them right away}
  Consider a family of sets $\mathcal J=\cc{X_\alpha}_{\alpha\in\Lambda}$. We may
  regard this as a category with no morphisms. We then have
  the obvious inclusion functor $D:\mathcal J\to\Set$. Consider the cartesian
  product with the projections
  \begin{align*}
    \pi_\alpha : \prod_{\alpha\in\Lambda} X_\alpha \to X_\alpha.
  \end{align*}
  This defines a natural transformation
  \begin{align*}
    \pi : \Delta\rr{\prod_{\alpha\in\Lambda} X_\alpha}\Rightarrow D
  \end{align*}
  In particular, there are no non-identity arrows in $\mathcal J$ so
  naturality is trivially satisfied.
\end{example}

A cocone that factors through every other cocone is a limit.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{colimit of $D$} is a cocone
  $(C,\phi)$ such that, for all other cocones $(C',\phi')$, there is a unique morphism
  $(C,\phi)\to(C',\phi)$.
\end{definition}

One may think of a limit has having the least amount of information to be a cone.
This intuition is particularly helpful because limits are unique up to isomorphism.

\begin{proposition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. If $\phi:\Delta C\Rightarrow D$
  and $\psi:\Delta C'\Rightarrow D$ are limits then they are isomorphic as cones.
  \begin{proof}
    Similar to \ref{prop:limits_are_unique}.
  \end{proof}
\end{proposition}

\begin{notation}
  Once again, we improve the notation. Consider a diagram
  $D$ with a limit in $\cat{C}$. We may now choose a particular limit and denote
  it by
  \begin{align*}
    \colim_{J\in\cat{J}}\rr{DJ},\hs\text{or}\hs\colim D,
  \end{align*}
  depending on whether we need to specify the object.
\end{notation}

Note however that the colimit of a particular diagram may not exist. Unfortunately, we
are not in a position to give a meaningful example because the category $\Set$ has
all small colimits.

\begin{theorem}
  Let $\scat J$ be a small category and $D:\scat J\to\Set$ a diagram. Then $D$ has a colimit.
\end{theorem}

\section{Sections}\label{sec:sections}

\begin{definition}
  Let $X,Y$ be topological spaces and $p:Y\to X$ be a continuous map. A continuous section
  is a continuous map $s:X\to Y$ such that $p \circ s = \id_X$.

  More generally, let $p:Y\to X$ be an arrow in a category $\cat{C}$. Then a section
  is an arrow $s:X\to Y$ such that $p\circ s=\id_X$ in $\cat{C}$.
\end{definition}

\begin{remark}\label{remark:continuity_and_sections}
  The existence of a section implies that the map $p$ is surjective. The converse
  depends on the axiom of choice. If $p$ is surjective, then there exists a section
  of $p$ if we accept the axiom.
\end{remark}

\begin{definition}
  Let $X,Y$ be topological spaces, let $U\subseteq X$ be open, and let $p:Y\to X$ be
  a continuous map. Then a \emph{section of $p$ at $U$} is a continuous map
  $s:U\to X$ such that, for all $x\in U$, $\rr{p\circ s}\rr{x}=x$.
  We note by $\Gamma(U,p)$ the set of all continuous sections of $p$ at $U$.
\end{definition}

\begin{example}
  Let let $p : \mathbb{R} \to \mathbb{R}$ be the continuous map $x \mapsto x^2$.
  Consider $U = \br{1,\infty}$. Then
  \begin{align*}
    \Gamma\rr{U,p} = \{+\sqrt{\phantom{a}}, -\sqrt{\phantom{a}}\}.
  \end{align*}
  More generally, we may define a square root function on $U$ as a continuous map
  $\sigma  : U \to \mathbb{R}$ such that for every  $u \in U$ we have $\sigma(u)^2 = u$.
  Then, for all opens $U\subseteq\R$, $\Gamma(U,p)$ is the set of square root
  functions on $U$. In particular, we have
  \begin{align*}
    \vv{\Gamma(U,p)} = 2^{\pi_0(U)}.
  \end{align*}
\end{example}

\begin{example}\note{improve explanation}
  \label{ex:complexroot}
  Consider the continuous map $p : \C^\times \to \C^\times$ sending
  $z \mapsto z^2$. Note that this map is not continuous if considered over all of
  $\C$.

  Let $U\subseteq\C^\times$ be open and connected. If $U$ is
  contained in one of the quadrants of the complex plane, then
  \begin{align*}
    \vv{\Gamma\rr{U, p}} = 2.
  \end{align*}
  This makes sense, because for every continuous section $s:U\to\C^\times$ we have
  a different section $-s$. It is straightforward to show that these are the only
  two sections.

  However, if we take $U$ to be the open disc $\cc{x \in \C^\times : \vv{x}<1}$
  then $\Gamma(U,p)=\emptyset$, i.e.~there are no continuous sections. This is
  remarkable: Even though the problematic point $0$ is not part of the
  topological space $\C^\times$, the map $U\mapsto\Gamma(U,p)$ seems to
  remember that it is special.
\end{example}

For continuous maps $p : Y \to X$, $\Gamma(-,p)$ contains information
about how homeomorphic $p$ is.

\begin{proposition}
  Let $p : Y \to X$ be a continuous map and let $U\subseteq X$ be open.
  If $p$ is a homemorphism then its inverse restricted to $U$
  is in $\Gamma(U,p)$.
\end{proposition}

\begin{remark}
  If a map $p : X \to Y$ is locally homeomorphic, then we can recover
  $p$ from its sections. In particular, we will see that this relates to the
  concept of \emph{gluing}.
\end{remark}

\section{Sheaves}\label{sec:sheaves}

\begin{definition}
  Let $X$ be a topological space. A \emph{presheaf on $X$} is a functor
  $F:\Open\rr{X}^{\text{op}}\to\Set$.
\end{definition}

\begin{notation}
  Following the sheaf of sections, we adapt the following:
  \begin{enumerate}
    \item for opens $U\subseteq X$, we write $\Gamma\rr{U,F}=F$;
    \item for inclusions $j:U\to V$ in $\Open\rr{X}$, $\res_{U,V}=Fj$.
  \end{enumerate}
\end{notation}

\begin{example}[Restriction Map]
  Let $X, Y$ be topological spaces, and let $U \subseteq V \subseteq X$ be open. Suppose $p : Y \to X$ is continuous. Then we can map from $\Gamma\rr{V,p}$ to $\Gamma\rr{U,p}$ using the restriction map from $U$ to $V$:
  \begin{align*}
    \res_{U,V} : \Gamma\rr{V,p} &\to \Gamma\rr{U,p}\\
    \sigma &\mapsto \sigma|_U.
  \end{align*}
\end{example}

\begin{definition}
  Let $X$ be a topological space. A \emph{sheaf on $X$} is a presheaf $F$ on $X$
  such that
  \begin{enumerate}
    \item for every open cover $\cc{U_i}_{i\in I}$ of an open set $U\subseteq X$ and
      $s,t\in\Gamma\rr{U,F}$,
      \begin{align*}
        \forall i,j\in I.\: \res_{U_i,U}(s) = \res_{U_j,U}(t)
      \end{align*}
      implies $s=t$;
    \item for every open cover $\cc{U_i}_{i\in I}$ of an open set $U\subseteq X$
      and every family $\cc{s_i}_{i\in I}$ such that $s_i\in FU_i$, for all $i$,
      if, for all $i,j\in I$, $\restriction{s_i}{U_i\cap U_j} = \restriction{s_j}{U_i\cap U_j}$,
      then there exists an $s\in FU$ such that, for all $i\in I$,
      $\restriction{s}{U_i}=s_i$.
  \end{enumerate}
\end{definition}

\begin{definition}
  Let $F,G$ be sheaves on $X$. A \emph{homomorphism $\eta:F\to G$} is
  a natural transformation $F\Rightarrow G$.
\end{definition}

\begin{definition}
  Let $X$ be a topological space. The \emph{category of sheaves $\textbf{Sheaf}(X)$}
  has as objects all sheaves on $X$ and as arrows all natural transformations between
  them.
\end{definition}

\section{Locally constant sheaves}\label{sec:locally_constant_sheaves}

We say a sheaf is constant if it is constant on every connected component. We choose this
definition because an assignment $U\mapsto S$ cannot satisfy the the sheaf axioms.

\begin{definition}
  Let $S$ be a set and $X$ a topological sapce. Then
  the constant sheaf $F^S$ is the sheaf of sections
  of the projection $\pi:S\times X\to X$.
\end{definition}


\begin{definition}[Constant sheaf]
  A sheaf $F$ on $X$ is constant if, for some set $S$ and all opens $U\subseteq X$,
  \note{verify}
  \begin{equation}
    \Gamma(U,F) = \prod_{\pi_0U}S
  \end{equation}
  where $\pi_0U$ is the set of connected components of $U$.
\end{definition}

\begin{definition}
  A \emph{locally constant sheaf $F$ on $X$} is a sheaf such that,
  for all $x\in X$, there exists an open neighbourhood $U$ of $x$,
  a set $S_x$, and an isomorphism
  \begin{align*}
    \text{res}_{U,X} \cong \restriction{F^{S_x}}{U}.
  \end{align*}
\end{definition}

\begin{lemma}
  Let $B$ be a basis of $X$ and let $F,G$ be sheaves on $X$. Suppose, for all $U\in B$,
  we have a map $\eta_U:FU\to GU$ such that, for all $V\subseteq U$,
  \begin{equation}
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJGVSJdLFswLDEsIkdVIl0sWzIsMCwiRlYiXSxbMiwxLCJHViJdLFswLDIsIkZpIl0sWzAsMSwiXFxldGFfVSIsMl0sWzIsMywiXFxldGFfViJdLFsxLDMsIkdpIiwyXV0=
    \begin{tikzcd}
      FU && FV \\
      GU && GV
      \arrow["Fi", from=1-1, to=1-3]
      \arrow["{\eta_U}"', from=1-1, to=2-1]
      \arrow["{\eta_V}", from=1-3, to=2-3]
      \arrow["Gi"', from=2-1, to=2-3]
    \end{tikzcd}
  \end{equation}
  Then there exists a unique sheaf homomorphism $\tilde\eta : F\to G$.
  \begin{proof}
    \missingproof
  \end{proof}
\end{lemma}

\begin{theorem}
  Let $F$ be a locally constant sheaf. Then there exists a covering space
  $p:E\to X$ such that $\restriction{F}{E} \cong F$.
  \begin{proof}
    \missingproof
  \end{proof}
\end{theorem}

\begin{example}
  Take $p:S^1 \to S^1$ as $z\mapsto z^k$ for $k\geq 2$.
  Then $\Gamma\rr{-,p}$ is a locally constant sheaf.
  \begin{proof}
    Let $U \in S^1$ be open. It suffices to prove this statement for $U$ of the form $U = ]x - \epsilon, x + \epsilon[$ for some $x \in S^1$ and $\epsilon \ll 1$. From complex analysis we know that there are $k$ points satisfying $z = z^k$, hence $p^{-1}(x) = \{x_1, ..., x_k\}$. In particular, we have that $p^{-1}(U) = \amalg_{i=1}^k ]x_i - \frac{\epsilon}{k}, x_i + \frac{\epsilon}{k}[$. Since each interval is disjoint, we have that $p^{-1}(U) \cong U \times \mathbb{Z}/k\mathbb{Z}$. It therefore follows that locally we have a constant sheaf.
    \missingproof
    \note{This is a sketch, I think it would be good to clarify some points, i.e. the isomorphism to the product, and the disjoint union with the epsilon stuff}
  \end{proof}
\end{example}

\begin{nonexample}
  Take $p: \mathbb{R} \to \mathbb{R}$ as $x \mapsto (x-1)(x+1)$.
  Then $\Gamma\rr{-,p}$ is not a locally constant sheaf.
  \begin{proof}
    \missingproof
  \end{proof}
  \note{Check the map types not sure if correct}
\end{nonexample}

\begin{lemma}
  If $F$ is a constant sheaf on $X$ and $V\subseteq U\subseteq X$ are opens then
  \begin{align*}
    \Gamma\rr{U, F} = \Gamma\rr{V,F}.
  \end{align*}
\end{lemma}

\begin{example}
  Let $X=\R$ and let $\sim$ be the equivalence relation on $\R+\R$ such that
  $x\sim y$ iff $x=y\neq 0$ and let $Y=\rr{\R+\R}/\sim$. Let $p:Y\to X$ be
  given by the identity. Then the sheaf of sections $\Gamma\rr{-,p}$
  is not locally constant.
\end{example}

\section{Covering space}\label{sec:covering_space}

\begin{definition}
  Let $i:Y\to X$ an open map and $F$ a sheaf on $X$. Then
  the \emph{pullback along $i$} is the sheaf $i^*F$ on $Y$
  given by, for all $U\subseteq Y$,
  \begin{align*}
    i^*F(U) = F(i(U)).
  \end{align*}
\end{definition}


\begin{definition}
  A \emph{covering space} for $X$ consists of
  \begin{enumerate}
    \item a topological space $\tilde X$;
    \item a map $p:\tilde X\to X$
  \end{enumerate}
  such that, for all $x\in X$, there are sets $U,S$ with $x\in U$, $\inv p\rr{U}=S\times U$,
  and, for all $s\in S$, $\restriction{p}{\cc{s}\times U}:\cc{S}\times U\to U$ is a
  homeomorphism.
\end{definition}

\begin{notation}
  We denote a covering $(\tilde X,p)$ of $X$ by $p:\tilde X\to X$.
\end{notation}

\begin{example}
  The map $p:S^1\to S^1$ given by $z\mapsto x^k$, for some $k$, is a covering.
  \begin{proof}
    \missingproof
  \end{proof}
\end{example}

\begin{example}
  Let $X$ be two copies of $S^1$ that intersect in a single point. Weirdly connected
  graph?
\end{example}

\begin{example}
  The map $p:\R^2\to\R$ given by $\rr{x,y}\mapsto x$ is not a covering.
  \begin{proof}
    \missingproof
  \end{proof}
\end{example}

\begin{example}
  The canonical map $p:\R^2\to\R^2/\Z$ is a covering.
  \begin{proof}
    \missingproof
  \end{proof}
\end{example}

\begin{proposition}
  Let $p:\tilde X\to X$ and $p':\tilde{\tilde X}\to\tilde X$ be coverings.
  Then $pp':\tilde{\tilde{X}}\to X$ is a covering.
  \begin{proof}
    \missingproof
  \end{proof}
\end{proposition}

\begin{definition}
  Let $p_1:\tilde X_1\to X$ and $p_2:\tilde X_2\to X$ be coverings. A covering homomorphism
  is a map $f:\tilde X_1\to\tilde X_2$ such that $p_1 = p_2\circ f$.
\end{definition}

\begin{definition}
  A path-connected covering of $X$ is a covering $(\tilde X,p)$ where $\tilde X$ is
  path-connected.
\end{definition}

\begin{theorem}
  If $X$ is locally path connected then there exists a cover
  $(\tilde X,p)$ such that, for all other covers $(Y,q)$ and choice of $x\in X$, $y\in Y$
  with $p(y)=x$, there exists a unique homorphism of covers $f:(\tilde X,p)\to(Y,q)$
  with \missingdef
\end{theorem}

\begin{theorem}
  Let $p:\tilde X\to X$ be a covering. If $\tilde X$ is simply connected then
  $\tilde X$ is the universal cover.
  \begin{proof}
    \missingproof
  \end{proof}
\end{theorem}

\begin{definition}
  Let $F$ be a sheaf on $X$ and let $x\in X$. The stalk $F_x$ of $F$ at $X$ is the
  colimit of the sheaf applied to the category of open sets containing $x$.
\end{definition}

\begin{example}
  \begin{itemize}
    \item $(C^\infty)_0$.
  \end{itemize}
\end{example}

\begin{lemma}
  Let $F$ be a locally constant sheaf on $X$. Then, for all $x\in X$, there exists
  an open $U\subseteq X$ with $x\in U$ such that $FU=F_x$.
  \begin{proof}
    \missingproof
  \end{proof}
\end{lemma}

\begin{theorem}
  Every locally constant sheaf is given by sections of some covering space.
\end{theorem}

\begin{theorem}
  In a simply connected space, a sheaf is locally constant if, and only if,
  it is constant.
\end{theorem}

\section{Geometry}

\begin{definition}
  An \emph{$n$-dimensional $C^k$-manifold} consists of
  \begin{enumerate}
    \item a topological space $X$;
    \item a sheaf of ring $\mathcal O_X:\Open(X)^{\text{op}}\to\textbf{Rings}$
  \end{enumerate}
  such that there exists an open cover $\cc{U_\alpha}_{\alpha\in\Lambda}$
  together with isomorphisms
  \begin{align*}
    (U_\alpha,\restriction{U_\alpha}{\mathcal O_X})\cong (\R^n,C^k).
  \end{align*}
\end{definition}

\begin{example}
  \begin{itemize}
    \item $(\text{Spec} R,\mathcal O_{\text{Spec} R})$;
    \item $(\C^n, \text{holos})$;
    \item $(\R^n, C^\infty)$.
  \end{itemize}
\end{example}

\begin{definition}
  Consider the topological space $S^2\subseteq\R^3$ given by
  \begin{align*}
    S^2 = \cc{x \in \R^3 : \vv{x}=1}
  \end{align*}
\end{definition}

\begin{example}
  The tangent bundle of
  \begin{enumerate}
    \item $\R$ is $T\R=\R\times\R$ together with the projection $x,y\mapsto x$;
    \item $\R^2$ is $T\R^2 = \R^2\times\R^2$ together with the projection
      $x,y\mapsto x$;
    \item $S^1$ is the set
      \begin{align*}
        TS^1 = \cc{(x,y)\in S^1\times\R^2: x\cdot y = 0}.
      \end{align*}
  \end{enumerate}
\end{example}

The map $\R^2\to\R$ given by $x\mapsto\vv{x}$ induces a map
$T\R^2 \to T\R^1$ given by
\begin{align*}
  x_0,x_1,y_0,y_1\mapsto (x_0^2 + x_1^2, 2x_0y_0+2x_1y_1).
\end{align*}

\begin{definition}
  Vector fiels on $S^2$ are sections of the projection $TS^2\to S^2$.
\end{definition}

We can use the language of sheafs to obtain a meaningful result about
vector fields: Every vector field on $S^2$ has a zero. This is referred to
as the hedgehog theorem. \note{also hairy ball theorem}

\begin{lemma}\note{maybe?}
  If $V$ is a nonvanishing vector field on $D^2$, then the map
  $\text{wind}_V:S^1\to S^1$ is homotopic to the identity.
  \begin{proof}
    \missingproof
  \end{proof}
\end{lemma}

\begin{theorem}
  The sheaf
  \begin{align*}
    TS^2 \setminus \cc{(x,0)}\to S^2
  \end{align*}
  has no global sections.
  \begin{proof}[Proof sketch]
    Given a nonvanishing vector field $V$ on $D^2$, we obtain a map
    $\text{wind}_V:\partial D^2=S^1 \to S^1$ given by
    \begin{align*}
      \theta \mapsto \text{angle}(T\theta,V(\theta))
    \end{align*}
    Suppose for contradiction we have a non-vanishing vector field
    on $S^2$. $D^2_{np}$ and $D^2_{sp}$ cover $S^1$ with common boundary
    $S^1_{eq}$. Thus we have two winding maps
    \begin{align*}
      w_V^{D^2_{np}},w_V^{D^2_{sp}}:S^1\to S^1
    \end{align*}
    These are homotopic to $\text{id}$ and $-\text{id}$ which are not
    homotopic.
  \end{proof}
\end{theorem}

\begin{example}
  Consider the vector field $V:S^1\to D^2$ given by $\theta\mapsto(1,0)$.
  Then $\text{wind}_V:S^1\to S^1$ corresponds to counter-clockwise rotation
  by $\pi/2$.
\end{example}

Question: Which surfaces do have non-vanishing vector fields?

\section{Continuous binary functions}

Let $X$ be a topological space. Consider the sheaf $F$ given by
\begin{align*}
  FU = \cc{\text{continuous functions $U\to\Z/2\Z$}}.
\end{align*}
Observe $\vv{FU}=2^{\pi_0 U}$.

\begin{proposition}
  Let $F$ be a sheaf on $X$ such that, for all embeddings $f:D^n\to X$,
  $F(\im f)=\Z/2\Z$. Then, for all opens $U\subseteq X$, $FU = 2^{\pi_0 U}$.
  \begin{proof}
    \missingproof
  \end{proof}
\end{proposition}

\note{define fiber product}

\printbibliography{}

\end{document}
