\documentclass{article}
\usepackage{style}

\author{Wiktor Kaluza \& Franz Miltz}
\title{Sheaf theory}

\addbibresource{sources.bib}

\begin{document}
\maketitle
\tableofcontents
\pagebreak

\section{Motivation}\label{sec:motivation}

\subsection{Real square roots}

Consider the function $p:\R\to\R$ given by $x\mapsto x^2$. While it is
not invertible in the strict sense, we may study its right inverses.
These are called sections. We notice that there are no sections because,
for $x < 0$, there is no $y\in\R$ such that $p(y) = x$. However,
if we consider the restriction $p:\R\to\R_{\geq 0}$, there are plenty.
The obvious choice is the usual square root function
$\sqrt{-} : \R_{\geq 0} \to \R_{\geq 0}$. However, this is not the only option:
for example, we have a section $s$ of $p$ given by
\begin{align*}
  s(x) = \begin{cases}
    \sqrt{x} & \text{if }0 \leq x<1 \\
    -\sqrt{x} & \text{if }x\geq 1
  \end{cases}
\end{align*}
This example should make the reader feel uncomfortable. While this is
a perfectly valid section, it is not interesting at all. This is because
we are considering $\R_{\geq 0}$ simply as a set, forgetting all its
structure. In particular, $s$ is not continuous with respect to the
standard topology.
What happens if we restrict our attention to the continuous sections
of $p$? Then we only obtain the two square root functions $\pm\sqrt{-}$.

We have seen that restricting the function $p$ from $\R$ to $\R_{\geq 0}$
adds sections. Let us now investigate what happens if we take this further.
For any open interval $I\subseteq\R_{\geq 0}$, we have the same sections:
the positive and negative square root functions defined on $I$. However,
on $(0,1)\cup(1,2)$ the result is different: we can choose sections for
each of the connected components independently without breaking continuity.
That is, the operation of taking section is intrinsically related to
the topology of the set we are considering.

\subsection{Continuous sections}

Let us backtrack and formalise the considerations from the previous
considerations slightly. First, lets start with continuous sections:

\begin{definition}
  Let $X$ and $Y$ be topological spaces and let $p:Y\to X$ be continuous.
  Then a \emph{section of $p$ at an open set $U\subseteq X$} is a continuous
  map $s:U\to X$ such that $p\circ s = \id$.
\end{definition}

\begin{definition}
  Let $X$ and $Y$ be topological spaces and let $p : Y \to X$ be continuous.
  Then for all open $U \subseteq X$ we define the construction $\Gamma(U, p)$ by
  \begin{align*}
    \Gamma(U, p) = \cc{\text{sections of $p$ at $U$}}.
  \end{align*}
\end{definition}

\begin{example}
  Let $p : \R \to \R_{\geq 0}$ be the continuous map $z \mapsto z^2$.
  Consider any open interval $I\subseteq\R_{\geq 0}$. Then
  \begin{align*}
    \Gamma\rr{I,p} = \{+\sqrt{-}, -\sqrt{-}\}.
  \end{align*}
  Noting that all opens $U\subseteq\R_{\geq 0}$ are unions of intervals,
  we have
  \begin{align*}
    \vv{\Gamma(U,p)} = 2^{\pi_0(U)},
  \end{align*}
  where $\pi_0(U)$ is the set of connected components of $U$.
\end{example}

We will later see that this construction is what we call a sheaf, and we will
call it the \emph{sheaf of sections}.

\subsection{Properties of continuous sections}

We now have a formal way of talking about continuous sections on
open sets of a toplogical space. Let us investigate the structure.
Let us fix the function $p:\R\to\R_{\geq 0}$ given by $x\mapsto x^2$
and investigate how open sets relate to their sections.

Consider open sets $U,V\subseteq\R_{\geq 0}$ with
$U\subseteq V$. What can we say about the sets $\Gamma(U,p)$ and
$\Gamma(V,p)$ when $p$ is given by $x\mapsto x^2$? At a first glance,
not much: if $U=(1,2)\cup(2,3)$ and $V=(1,3)$ then
$\vv{\Gamma(U,p)}<\vv{\Gamma(V,p)}$. However, if
$U=(1,2)$ and $V=(1,2)\cup(2,3)$ then the situation is reversed.
We have to investigate how the sections arise in each case.

Observe that, if we have a section $s:V\to\R_{\geq 0}$ and a subset
$U\subseteq V$ then we may restrict it to a section $s':U\to\R_{\geq 0}$.
Thus we have a map $\res_{V,U}:\Gamma(V,p)\to\Gamma(U,p)$. This is a
general observation: such maps arise for any $p:Y\to X$ and for
any inclusion of subsets $U\subseteq V\subseteq X$. Note that
for subsets $U\subseteq V\subseteq W\subseteq X$, it does not matter
how we go from $\Gamma(W,p)$ to $\Gamma(U,p)$, since:
\begin{align*}
  \res_{W,U} = \res_{V,U}\circ\res_{W,V}.
\end{align*}

More generally, opens $U,V\subseteq\R_{\geq 0}$ may not yield an
inclusion. However, if we have sections $s:U\to\R$ and $s':V\to\R$,
it may be possible to combine them. In particular, if $s$ and $s'$
agree on the overlap $U\cap V$, then we have a section
\begin{align*}
  x \mapsto \begin{cases}
    s(x) & \text{if }x\in U \\
    s'(x) & \text{if }x\in V
  \end{cases}
\end{align*}
in $\Gamma(U\cup V,p)$.

\subsection{Complex square roots}

Finally, let us consider a slightly more interesting example.
Let $p:\C^\times\to\C$ be given by $z\mapsto z^2$. Note that we
have to exclude zero from the domain to ensure that $p$ is continuous.
Now $p$ is no longer surjective, meaning that there are no global
sections whatsoever. However, even if we restrict our attention
to $\im p =\C^\times$, there are no continous sections either. That is,
$\Gamma(\C^\times,p)$ is empty.

In general, an open set has sections if, and only if, it does not wrap
around the origin. Intuitively, this is because for any point there are
two possible square roots and moving around the origin continuously
forces us to move from one to the other. Thus, whenever we close a loop
around the origin, we introduce a discontinuity.

This is remarkable: Even though the problematic point $0$ is not part
of the topological space anymore, the construction $\Gamma(-,p)$
seems to remember that it is special. Note that this does not happen
for other points. If we were to remove, say, the point $3+i$ then
everything would be fine: there are perfectly well-defined continuous
sections of open sets that wrap around $3+i$.

\section{Categorical prerequisites}\label{sec:categories_and_functors}

Before we can formalise the theory of sheaves, we need to introduce some
standard categorical constructions. For example, see \cite{maclane1997}.

Categories generalise the notion of algebraic objects and their homomorphisms.
Rather than focusing on the internal structure of the objects, we study the
morphisms between them. In this section we define basic categorical concepts that
we require for later developments.

\subsection{Categories}

Fundamentally, categories consist of objects and morphisms. We may compose morphisms
and each object has an identity morphism that serves as a unit for composition.

\begin{definition}\label{def:category}
  A \emph{category} $\cat C$ consists of
  \begin{enumerate}
    \item a class of objects $\Obj {\cat{C}}$;
    \item for all $X,Y\in\Obj {\cat{C}}$, a class of arrows $\cat{C}\rr{X,Y}$;
    \item for all $X\in\Obj {\cat{C}}$, an arrow $\id_X\in\cat{C}\rr{X,X}$;
    \item for all $f\in\cat{C}\rr{X,Y}$ and $g\in\cat{C}\rr{Y,Z}$, an arrow
      $g\circ f\in\cat{C}\rr{X,Z}$
  \end{enumerate}
  such that
  \begin{enumerate}
    \item for all $f\in\cat{C}\rr{X,Y}$, $f\circ \id_X = f = \id_Y\circ f$;
    \item for all $f\in\cat{C}\rr{W,X}$, $g\in\cat{C}\rr{X,Y}$, $h\in\cat{C}\rr{Y,Z}$,
      $h\circ(g\circ f)=(h\circ g)\circ f$.
  \end{enumerate}
\end{definition}

\begin{notation}
  We improve notation as follows:
  \begin{itemize}
    \item $X\in\cat{C}$ means $X\in\Obj\cat{C}$;
    \item $f:X\to Y$ in $\cat{C}$ means $X,Y\in\Obj\cat{C}$ and $f\in\cat{C}\rr{X,Y}$;
    \item for composable arrows $f$ and $g$ in $\cat{C}$, we may write $gf$ to mean $g\circ f$.
  \end{itemize}
\end{notation}

Categories are a generalisation of monoids. Consider a monoid $(M,*,\id)$. We
may regard this as a category $\mathcal B M$ with a single object $\bullet$.
Each $m\in M$ we have an arrow $\mathcal B m:\bullet\to\bullet$ such that the
composition agrees with the multiplication: $\mathcal B(m')\circ\mathcal Bm =
\mathcal B(m * m')$. In this sense, one may think of categories as a monoid
with more than one object.

\begin{example}
  Categories come in various different flavours:
  \begin{itemize}
    \item $\Set$: objects are sets, arrows are functions;
    \item $\Grp$: objects are groups, arrows are homomorphisms
    \item For any poset $(P,\leq)$, we have a category with objects $x\in P$,
      a unique arrow $x\to y$ iff $x\leq y$, and composition of $x\to y$ and
      $y\to z$ yields the unique arrow $x\to z$ which exists by transitivity
      of $\leq$.
    \item Using the above, for any topological space $X$, the poset of open sets
      $(\text{Opens}X, \subseteq)$ may be regarded as a category. This will prove
      particularly important.
    \item For every category $\cat{C}$ we can define the opposite category $\cat{C}^{\text{op}}$
      where $\Obj {\cat{C}^{\text{op}}} = \Obj {\cat{C}}$ and
      $\cat{C}^{\text{op}}(X, Y) = \cat{C}(Y,X)$ i.e. an arrow $f: X \to Y$
      in $\Obj {\cat{C}^{\text{op}}}$ is the same as an arrow $f : Y \to X$
      in $\cat{C}$.
  \end{itemize}
\end{example}

Observe some fundamental differences. Firstly, the arrows in $\Set$ and $\Grp$
are functions. Thinking about arrows in abstract categories as functions
intuitively seems like a good idea. One needs to be careful, however. The poset
example demonstrates that this intuition is flawed. Secondly, there are size
differences. While the poset category has as many objects as the poset itself,
categories like $\Set$ and $\Grp$ are much larger. In fact, we know that
$\Obj_{\Set}$ is a proper class. When the collection of objects and morphsism
of a category is a proper class it is called \emph{large} and otherwise
\emph{small}.

Just like other areas of mathematics, we particluarly care about invertible
arrows:

\begin{definition}
  Let $\cat{C}$ be a category. An \emph{isomorphism} in $\cat{C}$ is an arrow
  $f:X\to Y$ such that there exists an arrow $g:Y\to X$ with $f\circ g = \id$
  and $g\circ f = \id$.
\end{definition}

\begin{example}
  We already know what isomorphisms are:
  \begin{itemize}
    \item In $\Set$, isomorphisms are bijections.
    \item In $\Grp$, isomorphisms are isomorphisms of groups.
    \item In a poset regardes as a category, the only isomorphisms are the
      identities.
  \end{itemize}
\end{example}

We would like to talk about the inverse of an isomorphism. This is well-defined.

\begin{proposition}\label{prop:inverses_are_unique}
  Let $f:X\to Y$ be an isomorphism in $\cat{C}$. If $g,g':Y\to X$ are inverses of
  $f$, then $g=g'$.
  \begin{proof}
    Note $\id=f\circ g$. In particular $g'=g'\circ(f\circ g) = (g'\circ f)\circ g=g$.
  \end{proof}
\end{proposition}

\subsection{Functors}

Functors are morphisms between categories. In the definition of a category (cf.
\ref{def:category}) we have four pieces of structure. Functors preserve these.
That is, functors map objects to objects and arrows to arrows in a way that
preserves identitites and composition.

\begin{definition}\label{def:functor}
  Let $\cat{C},\cat{D}$ be categories. A \emph{functor} $F:\cat{C}\to\cat{D}$
  consists of
  \begin{enumerate}
    \item for each $X\in\cat{C}$, an object $FX\in\cat{D}$;
    \item for each $f:X\to Y$ in $\cat{C}$, an arrow $Ff:FX\to FY$
  \end{enumerate}
  such that
  \begin{enumerate}
    \item for all $X\in\cat{C}$, $F(\id_X)=\id_{FX}$;
    \item for all composable arrows $f,g$ in $\cat{C}$, $F\rr{g\circ f}=Fg\circ Ff$.
  \end{enumerate}
\end{definition}

\begin{example}
  A group is just a set with some additional structure. Similarly,
  a group homomorphism is a function that satisfies some
  additional conditions. We may write the underlying set of a group $G$
  as $UG$ and the underlying function of a group homomorphism $f:G\to H$
  as $Uf:UG\to UH$. We thus have a functor structure $U:\Grp\to\Set$.
  It is straightforward to verify that the axioms are satisfied:
  $U(\id) = \id$ and $U(g\circ f) = Ug\circ Uf$ hold precisely because
  the morphisms in $\Grp$ are really just functions.
\end{example}

\begin{example}
  Taking powersets is functorial. Consider the functor structure $\mathcal
  P:\Set\to\Set$ sending sets to their powersets and functions $f:X\to Y$ to
  their direct image maps $A\mapsto \cc{f(x) : x\in A}$. Once again, we
  verify the axioms. Consider a subset $A\subset X$. Then
  \begin{align*}
    \mathcal P(\id)(A) &= \cc{\id(x) : x \in A} \\
                       &= \cc{x : x \in A} \\
                       &= A.
  \end{align*}
  Similarly, consider functions $f:X\to Y$ and $g:Y\to Z$ and a subset
  $A\subseteq X$. Then
  \begin{align*}
    \mathcal P(g\circ f)(A) &= \cc{ g(f(x)) : x\in A} \\
                            &= \cc{g(y) : y \in \cc{f(x) : x \in A}}\\
                            &= Pg(\cc{f(x) : x \in A}) \\
                            &= (Pg\circ Pf)(A).
  \end{align*}
\end{example}

We now have another category, $\Cat$, with objects all small categories, and
arrows are functors. It is also possible to define a category $\CAT$ of
all categories and all functors. Some care needs to be taken to avoid
set theoretic complications. This may be achieved using suitable universes,
see e.g.~\cite{maclane1997}.

\subsection{Natural transformations}

For each set $W$, consider the functor $F_W:\Set\to\Set$ taking $X$ to $X\times W$
and $f:X\to Y$ to $x,w\mapsto f(x),w$. Let us investigate this family of
functors.

\begin{itemize}
  \item If $W$ is the empty set, then is degenerate: $F_\emptyset f$ is simply
    the unique function $\emptyset\to\emptyset$.
  \item If $W$ is a singleton, then $F_W$ neither adds nor removes any structure.
    That is, for all sets $X$, there is a bijection $F_W X\cong X$. Thus we also
    have a bijection $\Set(F_W X,F_W Y)\cong\Set(X,Y)$.
  \item If $W\subseteq W'$, then, for all $X$, $F_W X\subseteq F_{W'}X$. Similarly,
    a function $F_{W}f$ is just a restriction of $F_{W'}f$. Thus we have an
    injective map $\Set(F_W X, F_W Y)\to\Set(F_{W'} X, F_{W'} Y)$.
\end{itemize}

To describe the relation between parallel functors such as the $F_W$ more
formally, we define natural transformations.

\begin{definition}
  Let $F,G:\cat{C}\to\cat{D}$ be functors. A \emph{natural transformation
  $\phi:F\Rightarrow G$} consists of, for all $X\in\cat{C}$,
  an arrow $\phi_X : FX \to GX$ in $\cat{D}$ such that, for all
  $f:X\to Y$ in $\cat{C}$, the following commutes:
  \begin{equation}
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJGWCJdLFswLDEsIkZZIl0sWzIsMSwiR1kiXSxbMiwwLCJHWCJdLFswLDEsIkZmIiwyXSxbMywyLCJHZiJdLFsxLDIsIlxccGhpX1kiLDJdLFswLDMsIlxccGhpX1giXV0=
    \begin{tikzcd}
      FX && GX \\
      FY && GY
      \arrow["Ff"', from=1-1, to=2-1]
      \arrow["Gf", from=1-3, to=2-3]
      \arrow["{\phi_Y}"', from=2-1, to=2-3]
      \arrow["{\phi_X}", from=1-1, to=1-3]
    \end{tikzcd}
  \end{equation}
\end{definition}

\begin{notation}
  We will drop the subscripts of the components whenever it is convenient to do so.
\end{notation}

\begin{example}
  Consider the $F_W$ from earlier.
  \begin{itemize}
    \item We have a natural transformation $\phi:F_\emptyset \Rightarrow
      \Delta\emptyset$, where $\Delta\emptyset$ is the constant functor
      $X\mapsto\emptyset$. The components are the unique functions
      $\phi_X:\emptyset\to\emptyset$ and the naturality condition is trivial.
    \item For $W$ a singleton, we have a natural transformation $\phi:F_W\Rightarrow
      \text{Id}$ where $\text{Id}$ is the identity functor on $\Set$. The
      components are the projections $\phi_X(x,w)=x$. Naturality is easily
      verified: $\phi(F_W f(x,w))=\phi(f(x),w) = f(x) = f(\phi(x,w))$.
    \item For subsets $W\subseteq W'$, we have natural transformations
      $\phi:F_W\Rightarrow F_{W'}$ given by the inclusions $\phi(x,w) = (x,w)$.
      Naturality now becomes
      \begin{align*}
        \phi(F_W(f)(x,w)) = \phi(f(x),w) = (f(x),w) = F_{W'}(f)(x,w) =
        F_{W'}(f)(\phi(x,w)).
      \end{align*}
  \end{itemize}
\end{example}

Chasing elements around like this is not pretty. Moreover, we have already
seen that it is, in general, not possible. We will therefore make use of
categorical language and diagrams whenever possible.


\section{Sheaves}\label{sec:sheaves}

We use the powerful language of category theory to make precise the
notions touched on in section~\ref{sec:motivation}.
We do so in two steps. Firstly, we notice that some properties of
the continuous section construction are easily encoded in a particular
type of functor called a presheaf. Secondly, we add some further
properties that we will use to extend this to a sheaf.

\subsection{Presheaves}

For a topological space, each inclusion of open sets $U\subseteq V$
gives rise to a restriction map $\Gamma(V,p)\to\Gamma(U,p)$.
This turns out to be a contravariant functor. We now define a presheaf
to be any such functor.

\begin{definition}
  Let $X$ be a topological space. A \emph{presheaf on $X$} is a functor
  $\mathscr F:\Open\rr{X}^{\text{op}}\to\Set$.
\end{definition}

\begin{example}
  Let $X, Y$ be topological spaces, and let $U \subseteq V \subseteq X$ be
  open. Suppose $p : Y \to X$ is continuous. Then we can map from
  $\Gamma\rr{V,p}$ to $\Gamma\rr{U,p}$ using the restriction map from $V$ to
  $U$:
  \begin{align*}
    \res_{V,U} : \Gamma\rr{V,p} &\to \Gamma\rr{U,p}\\
    \sigma &\mapsto \restrict{\sigma}{U}.
  \end{align*}
  By earlier considerations, the structure $\Gamma(-,p)$
  given by
  \begin{align*}
    U &\mapsto \Gamma(U,p)\\
    U\hookrightarrow V &\mapsto \res_{V,U}
  \end{align*}
  yields a functor.
\end{example}

\begin{notation}
  For $U\subseteq V\subseteq X$, we simplify the notation by
  writing $\res_{V,U} = \mathscr F(j)$ where $j:U\to V$ is the
  inclusion. This is of course based on the construction of
  continuous sections.
\end{notation}

Presheaves are functors so morphisms of presheaves are natural
transformations. We thus have a category of presheaves on a topological
space:

\begin{definition}
  Let $X$ be a topological space. The \emph{category of presheaves
  on $X$}, $\Prsh_X$, has as objects all presheaves on $X$ and as
  arrows all natural transformations between them.
\end{definition}

If we denote by $\bb{\cat{C},\cat{D}}$ the category of functors
$\cat{C}\to\cat{D}$ then $\Prsh_X = [\Open(X)^{\text{op}},\Set]$.

\begin{example}
  \label{ex:presheafnongluing}
  Consider $\R$ and let $U \subseteq \R$ be an open set, then
  \begin{align*}
    \Open\rr{\R}^{\text{op}} &\to \Set\\
    U &\mapsto \cc{\text{continuous bounded functions $U \to \R$}},
  \end{align*}
  is a presheaf.
\end{example}

\begin{example}
  Let $X$ be a topological space and $A$ a set. The \emph{constant presheaf}
  $\mathscr A_X$ is a constant functor where for all opens $U \subset X$
  we have $\mathscr A_X(U) = A$ and all $\res_{V, U} = \id_A$.
\end{example}

\subsection{Locality and gluing}

The continuous section construction has two further properties that
the notion of a presheaf does not cover. Firstly, we observed that
knowing the sections on all connected components gives us full
information about the sections of the whole set. We generalise this to
general open covers.

\begin{definition}
  A presheaf $\mathscr F$ on $X$ satisfies the \emph{locality condition}
  if, for all opens $U\subseteq X$, all open covers $\cc{U_i}$ of $U$,
  and $s,t\in\mathscr F(U)$, if $\res_{U,U_i}(s) = \res_{U,U_i}(t)$ for all $i$,
  then $s=t$.
\end{definition}

\begin{example}
  For any continuous $p:Y\to X$, the continuous section
  construction $\Gamma(-,p)$ satisfies the locality condition.
  This is straightforward to see because each $x\in U$ is in
  some $x\in U_i$ but we know $\restrict{s}{U_i}=\restrict{t}{U_i}$
  so $s(x) = t(x)$.
\end{example}

The second property that we deem desirable is the ability to glue
non-contradictory sections together. That is, if we have sections
on different open sets that agree on the (possibly empty) overlap,
then there is a combined section. Once again, we require this to
hold for arbitrary open covers.

\begin{definition}\label{def:gluing}
  A presheaf $\mathscr F$ on $X$ satisfies the \emph{gluing condition}
  if, for all opens $U\subseteq X$, open covers $\cc{U_i}$ of $U$,
  and families $\cc{s_i}$ with $s_i\in\mathscr F(U_i)$ and
  $\res_{U_i,U_i\cap U_j}(s_i) = \res_{U_j,U_i\cap U_j}(s_j)$
  for all $i,j$, there exists $s\in\mathscr F(U)$ such that,
  for all $i$, $\res_{U,U_i}(s) = s_i$.
\end{definition}

\begin{example}
  For any continuous $p:Y\to X$, the continuous section construction
  $\Gamma(-,p)$ satisfies the gluing property. Consider an open cover
  $\cc{U_i}$ of $U\subseteq X$ and sections $s_i:U_i\to Y$. These are
  glued together to a section $s:U\to Y$ in the obvious way:
  \begin{align*}
    s(x) = s_i(x) \text{ if $x\in U_i$}.
  \end{align*}
\end{example}

\begin{example}
  The presheaf from Example~\ref{ex:presheafnongluing} does not satisfy the
  gluing property. To see this, consider the function $f(x) = x$. Take $U = \R$
  and let $U_i = (i-1, i+1)$. Then $\cc{U_i : i \in Z}$ is an open cover of
  $\R$. Clearly, for each $U_i$ the function $f(x)$ restricted to $U_i$ is
  continuous and bounded i.e. $f(x) \in \mathscr F(U_i)$. However, $f(x) \notin
  \mathscr F(\R)$ because on $\R$ as a whole $f(x)$ is unbounded. This violates
  the gluing property.
\end{example}

It turns out that a presheaf that satisfies both the locality and the
gluing property is particularly suitable to describe geometrical
and topological properties.

\begin{definition}
  Let $X$ be a topological space. A \emph{sheaf on $X$} is a presheaf
  on $X$ that satisfies the locality and gluing conditions.
\end{definition}

\begin{example}
  Let $p:Y\to X$ be continuous. The continuous section construction
  $\Gamma(-,p)$ is a sheaf. We will call this the \emph{sheaf of
  sections of $p$}:
  \begin{align*}
    \Gamma(-,p) : \Open(X)^{\text{op}} \to \Set.
  \end{align*}
\end{example}

\begin{example}
  Consider the sheaf structure $\mathscr O$ on $X$ given by
  \begin{align*}
    \mathscr O(U) = \cc{ \text{continuous functions }U\to\R}.
  \end{align*}
  This is a sheaf.
\end{example}

\begin{example}
  Consider a topological space and a set $S$ with $\vv{S}\geq 2$. Then the
  constant presheaf
  \begin{align*}
    \Delta S : \Open(X)^{\text{op}} \to \Set
  \end{align*}
  is not a sheaf. In particular, $\vv{\Delta S(\emptyset)} = 3 > 1$.
\end{example}

\begin{theorem}
  For sheaves any gluing as in \ref{def:gluing} is unique.
\end{theorem}

\begin{corollary}
  If $\mathscr F$ is a presheaf on $X$ satisfying the gluing
  condition, then $\vv{\mathscr F(\emptyset)}=1$.
\end{corollary}


\begin{lemma}\label{lemma:axioms_on_basis}
  Let $X$ be a topological space with basis $B$. If $\mathscr F$
  is a presheaf on $X$ that satisfies locality and gluing with respect
  to $B$, then $\mathscr F$ is a sheaf.
\end{lemma}

\begin{example}
  Let $f:X\to Y$ be continuous and let $\mathscr F$ be a sheaf on $X$.
  Then we have a sheaf $\mathscr G$ on $Y$ given by
  $\mathscr G(U) = \mathscr F(\inv f(U))$.
  \begin{proof}
    We begin by noting if $V\subseteq U\subseteq Y$ then
    $\inv f(V)\subseteq\inv f(U)\subseteq X$. Thus we have a
    functor $\inv f:\Open(Y)^{\text{op}}\to\Open(X)^{\text{op}}$.
    This makes $\mathscr G = \mathscr F \circ \inv f$ a presheaf.

    We now verify the axioms:
    \begin{itemize}
      \item Let $U\subseteq Y$ be open, let $\cc{U_i}$ be an open cover
        of $U$ and let $s,t\in\mathscr G(U)$ such that, for all
        $i$, $\restrict{s}{U_i}=\restrict{t}{U_i}$. Unpacking definitions,
        we have $s,t\in\mathscr F(\inv f(U))$ with
        $\restrict{s}{\inv f(U_i)} = \restrict{t}{\inv f(U_i)}$
        for all $i$. We now note that $\cc{\inv f(U_i)}$ is an open
        cover of $\inv f(U_i)$. As $\mathscr F$ is a sheaf,
        we have $s=t$.
      \item Let $U\subseteq Y$ be open, let $\cc{U_i}$ be an open
        cover of $U$, and let $\cc{s_i}$ be a family such that
        $s_i\in\mathscr G(U_i)$ and $\restrict{s_i}{U_i\cap U_j}
        =\restrict{s_j}{U_i\cap U_j}$ for all $i,j$.
        Once again we note that $\inv f(U)\subseteq X$ is open and
        $\cc{\inv f(U_i)}$ is an open cover. Further note
        $\inv f(U_i\cap U_j)=\inv f(U_i)\cap\inv f(U_j)$.
        Thus
        \begin{align*}
          \restrict{s_i}{\inv f(U_i)\cap \inv f(U_j)}
          &= \restrict{s_i}{\inv f(U_i\cap U_j)} \\
          &= \restrict{s_i}{U_i\cap U_j} \\
          &= \restrict{s_j}{U_i\cap U_j} \\
          &= \restrict{s_j}{\inv f(U_i\cap U_j)} \\
          &= \restrict{s_j}{\inv f(U_i)\cap \inv f(U_j)}.
        \end{align*}
        By the gluing property of $\mathscr F$, there
        exists an $s\in\mathscr F(\inv f(U))$ such that
        $\restrict{s}{\inv f(U_i)} = s_i$ for all $i$. This
        proves the gluing property of $\mathscr G$.
    \end{itemize}
  \end{proof}
\end{example}

\subsection{The category of sheaves}

We are particularly interested in morphisms between objects. Sheaves
are no exception.
\begin{definition}
  Let $\mathscr F,\mathscr G$ be sheaves on $X$. A \emph{morphism from
  $\mathscr F$ to $\mathscr G$} is a natural transformation
  $\mathscr F\Rightarrow\mathscr G$.
\end{definition}

Notably, the category of sheaves is a full subcategory
of the corresponding category of presheaves. That is, a morphism
of sheaves is a morphism of presheaves between sheaves.

\begin{definition}
  Let $X$ be a topological space. The \emph{category of sheaves on $X$},
  $\Sheaf_X$, has as objects all sheaves on $X$ and as arrows all natural
  transformations between them.
\end{definition}

We have the obvious inclusion $\Sheaf_X\hookrightarrow \Prsh_X$.

The sheaf axioms allows us to make use of the topology of the underlying
space, rather than just the poset of its opens. In particular, choosing
how a morphism acts on the sections of basis elements is sufficient
to define the whole morphism of sheaves.

\begin{lemma}\label{lemma:morphisms_on_basis}
  Let $X$ be a topological space with basis $\cc{B_i}$ and let $\mathscr
  F,\mathscr G$ be sheaves on $X$. Suppose, for all $i$, we have a map
  $\eta_i:\mathscr F(B_i)\to \mathscr G(B_i)$ such that, for all $B_j\subseteq
  B_i$, the following diagram commutes
  \begin{equation}
    \begin{tikzcd}
      \mathscr F(B_i) && \mathscr F(B_j) \\
      \mathscr G(B_i) && \mathscr G(B_j)
      \arrow["\mathscr \res", from=1-1, to=1-3]
      \arrow["{\eta}"', from=1-1, to=2-1]
      \arrow["{\eta}", from=1-3, to=2-3]
      \arrow["\mathscr \res"', from=2-1, to=2-3]
    \end{tikzcd}
  \end{equation}
  Then there exists a unique sheaf homomorphism $\tilde\eta : \mathscr F\to \mathscr G$.
\end{lemma}

\begin{theorem}
  Let $X$ be a topological space with basis $\cc{B_i}$. If $\mathscr F :
  \cc{B_i} \to \Set$ is a functor that satisfies locality and gluing, then
  there is a unique sheaf $\overline{\mathscr F}$ on $X$ satisfying
  $\overline{\mathscr F}(B_i)=\mathscr F(B_i)$.
  \begin{proof}
    Combine \ref{lemma:axioms_on_basis} and \ref{lemma:morphisms_on_basis}.
  \end{proof}
\end{theorem}

\section{Constant and locally constant}\label{sec:locally_constant_sheaves}

Many sheaves that we consider actually satsify stronger conditions
than merely locality and gluing. In this section we investigate constant
and locally constant sheaves.

\subsection{Constant sheaves}

Let $X$ be a topological space. In general, a constant assignment
$U\mapsto S$ will not satisfy the sheaf axioms.

Nonetheless,
we are interested in defining the notion of a particularly simple
sheaf on $X$ by making it as constant as possible. We say a sheaf
is constant if it is constant on every connected component.

\begin{definition}
  Let $S$ be a set and $X$ a topological sapce. Then
  the \emph{constant sheaf $\mathscr C^S$ on $X$} is the sheaf of sections
  of the projection $S\times X\to X$.
\end{definition}

\begin{example}\label{ex:constant_sheaf}
  Consider topological spaces $X$ and $S=\cc{0,1}$ and the
  projection $X\times S\to X$. For any
  connected open $U\subseteq X$, there are two sections:
  \begin{align*}
    s_0:x \mapsto(0,x), \hs s_1:x\mapsto(1,x).
  \end{align*}
  If an open has several connected components, then it is possible to
  choose a different section for each while preserving continuity.
  Thus a section on an open $U$ amounts to assigning $0$ or $1$ to each
  connected component $C\in\pi_0(U)$. Thus $\Gamma(-,p)$ is constant.
\end{example}

The definition is elegant in that it obviously satisfies the sheaf
axioms but it is not clear in what sense such a sheaf is constant.
To clear things up, we generalise the example \ref{ex:constant_sheaf}
to a more general result, which may be considered as an alternative
definition:

\begin{proposition}
  A sheaf $\mathscr F$ on $X$ is constant if, for some set $S$ and all opens $U\subseteq X$,
  \begin{equation}
    \mathscr F(U) = \prod_{\pi_0U}S
  \end{equation}
  where $\pi_0(U)$ is the set of connected components of $U$.
  \begin{proof}
    Analogous to example \ref{ex:constant_sheaf}.
  \end{proof}
\end{proposition}

In particular, if $U\subseteq X$ is connected then $\mathscr F(U)=S$.

\subsection{Locally constant sheaves}

Constant sheaves are quite strict. We will see that a slightly less
restrictive notion, that of a locally constant sheaf, comes up
frequently.

\begin{definition}
  A \emph{locally constant sheaf $\mathscr F$ on $X$} is a sheaf such that, for
  all $x\in X$, there exists an open neighbourhood $U$ of $x$, a set $S$, and
  an isomorphism $\restrict{\mathscr F}{U} \cong \mathscr C^{S}$.
\end{definition}

\begin{example}
  \label{ex:locallyconstsheafs1}
  Take $p:S^1 \to S^1$ as $z\mapsto z^k$ for $k\geq 2$.
  Then $\Gamma\rr{-,p}$ is a locally constant sheaf.
  \begin{proof}
    Let $U \in S^1$ be open. It suffices to prove this statement for $U$ of the
    form $U = ]x - \epsilon, x + \epsilon[$ for some $x \in S^1$ and $\epsilon \ll 1$.
    From complex analysis we know that there are $k$ points satisfying $z = z^k$,
    hence $p^{-1}(x) = \{x_1, ..., x_k\}$. In particular, we have that
    $p^{-1}(U) = \amalg_{i=1}^k ]x_i - \frac{\epsilon}{k}, x_i + \frac{\epsilon}{k}[$.
    Since each interval is disjoint, we have that
    $p^{-1}(U) \cong U \times \mathbb{Z}/k\mathbb{Z}$.
    It therefore follows that locally we have a constant sheaf.
  \end{proof}
\end{example}

\begin{example}
  For some $n\geq 1$, consider the a subspace $X\subseteq R^n$.
  Then the sheaf $\mathscr O$ of continuous real-valued functions
  on $X$ is not locally constant.
  \begin{proof}
    Let $x\in X$ and assume there is a neighbourhood $x\in U$
    such that $\mathscr O$ is contant on $U$. Then there is
    an $r>0$ such that we have a strict inclusion $B(x,r)\subset U$.
    Now let $y\in U\setminus B(x,r)$. Consider the indicator
    function $\chi_{\cc{y}} : U \to \cc{0,1}\subseteq\R$. This is
    continuous on $B(x,r)$ but discontinuous at $y$. Thus
    $\chi_{\cc{y}} \in \mathscr O(B(x,r))$ but
    $\chi_{\cc{y}} \not\in\mathscr O(U)$. This shows
    that the restriction $\res:\mathscr O(U)\to \mathscr O(B(x,r))$
    is not an isomorphism so $\mathscr O$ is not locally constant.
  \end{proof}
\end{example}

\begin{example}
  Let $p$ be the map from $\cc{(x, y) \in \R^2 : y = x^2} \to \R$ given
  by the projection $(x, y) \mapsto x$. Then $\Gamma\rr{-,p}$ is not a locally constant sheaf.
  \begin{proof}
    Take $0 \in \R$ and consider the open neighbourhood $U = (-\frac{1}{2}, \frac{1}{2})$ around $0$.
    Clearly $\Gamma(U, p) = \emptyset$. Now consider $U' = (\frac{1}{3}, \frac{1}{2})$
    we have that $\Gamma(U, p) = \Z/2\Z$. But $U' \subseteq U$,
    and so $\Gamma(U,p)$ is not locally constant for this choice of $U$.
    We generalize this argument to an arbitrarily small open neighbourhood $U$ of $0$.
    We run into the same problem as above. Hence this sheaf cannot be locally
    constant because it is not the same constant sheaf on all of $U$.
  \end{proof}
\end{example}

\begin{example}
  Let $X=\R$ and let $\sim$ be the equivalence relation on $\R+\R$ such that
  $x\sim y$ iff $x=y\neq 0$ and let $Y=\rr{\R+\R}/\sim$. Let $p:Y\to X$ be
  given by the identity. Then the sheaf of sections $\Gamma\rr{-,p}$
  is not locally constant.
\end{example}

\begin{theorem}\label{thm:locally_constant_simply_connected}
  Let $\mathscr F$ be a locally constant sheaf on $X$. If $U\subseteq X$ is
  simply connected, then $\restrict{\mathscr F}{U}$ is constant.
\end{theorem}

\section{Covers}\label{sec:covering_space}
In this section we assume all spaces are locally connected.

\subsection{Covering spaces}

\begin{definition}
  A \emph{covering space} for $X$ consists of
  \begin{enumerate}
    \item a topological space $\tilde X$;
    \item a map $p:\tilde X\to X$
  \end{enumerate}
  such that, for all $x\in X$, there are sets $U,S$ with $x\in U$,
  satisfying
  \begin{enumerate}
    \item $\inv p\rr{U}=S\times U$;
    \item for all $s\in S$, $\restrict{p}{\cc{s}\times U}:\cc{s}\times U\to U$ is a
      homeomorphism.
  \end{enumerate}
\end{definition}

\begin{notation}
  We denote a covering $(\tilde X,p)$ of $X$ by $p:\tilde X\to X$.
\end{notation}

\begin{example}
  The map $p:S^1\to S^1$ given by $z\mapsto z^k$, for some $k$, is a covering.
  This is because the inverse image $\inv p\cc{z}$ has $k$
  elements. We may choose a sufficiently small neighbourhood around $z$
  such that the inverse image contains $k$ disjoint copies of $U$. This was seen
  in the proof of Example~\ref{ex:locallyconstsheafs1}.
\end{example}

\begin{example}
  The canonical map $q:\R^2\to\R^2/\Z$ is a covering.
\end{example}

\begin{proposition}
  Let $p:\tilde X\to X$ and $p':\tilde{\tilde X}\to\tilde X$ be coverings.
  Then $pp':\tilde{\tilde{X}}\to X$ is a covering.
\end{proposition}

\begin{definition}
  Let $p_1:\tilde X_1\to X$ and $p_2:\tilde X_2\to X$ be coverings. A covering homomorphism
  is a map $f:\tilde X_1\to\tilde X_2$ such that $p_1 = p_2\circ f$.
\end{definition}

\subsection{Universal cover}

\begin{definition}
  A path-connected covering of $X$ is a covering $(\tilde X,p)$ where $\tilde X$ is
  path-connected.
\end{definition}

\begin{theorem}
  If $X$ is locally path connected then there exists a cover $(\tilde X,p)$, called the \emph{universal cover},
  such that, for all other covers $(Y,q)$ and choice of $x\in \tilde X$, $y\in Y$
  with $p(x) = q(y)$, there exists a unique homorphism of covers $f:(\tilde X,p)\to(Y,q)$
  with the property $f(x) = y$.
\end{theorem}

\begin{theorem}
  Let $p:\tilde X\to X$ be a covering. If $\tilde X$ is simply connected then
  $\tilde X$ is the universal cover.
\end{theorem}

\begin{theorem}
  Let $\mathscr F$ be a locally constant sheaf. Then there exists a covering
  space $\pi:E\to X$ such that the sheaf of sections of $\Gamma(-, \pi)$ is isomorphic to $\mathscr F$.
\end{theorem}

\begin{theorem}
  Every locally constant sheaf is given by sections of some covering space.
\end{theorem}

\begin{theorem}
  In a simply connected space, a sheaf is locally constant if, and only if,
  it is constant.
\end{theorem}

\section{Limits and colimits}

\subsection{Limits}

Fix a category $\cat{C}$.

There are many interesting structures to be studied within a category. Many of these
structures are captured by limits, an object that is particularly suitable
for mapping into a particular part of the category.

In order to capture the notion of a structure within a category, we introduce
formal diagrams. These are not to be confused with the commutative diagrams that
we use to present equations.

\begin{definition}
  A \emph{diagram in $\cat{C}$} is a functor $D:\cat{J}\to\cat{C}$.
\end{definition}

Diagrams may be thought of marking certain objects and arrows in the category.
Now a cone of such a diagram is an object that has a consistent way of entering
the structure:

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{cone of $D$} consists of
  \begin{enumerate}
    \item an object $C\in\cat{C}$;
    \item a natural transformation $\phi:\Delta C\Rightarrow D$.
  \end{enumerate}
\end{definition}

Let us investigate this definition in detail. Consider a diagram
$D:\cat{J}\to\cat{C}$. A cone $(C,\phi)$ is a choice of object $C\in\cat{C}$
and morphisms $\phi_J:C\to DJ$ for all $J\in\cat{J}$ such that the following
commutes:
\begin{equation}
  % https://q.uiver.app/?q=WzAsMyxbMCwxLCJESiJdLFsyLDEsIkRKJyJdLFsxLDAsIkMiXSxbMCwxLCJEZiIsMl0sWzIsMSwiXFxwaGlfe0onfSJdLFsyLDAsIlxccGhpX0oiLDJdXQ==
  \begin{tikzcd}
  & C \\
    DJ && {DJ'}
    \arrow["Df"', from=2-1, to=2-3]
    \arrow["{\phi_{J'}}", from=1-2, to=2-3]
    \arrow["{\phi_J}"', from=1-2, to=2-1]
  \end{tikzcd}
\end{equation}

\begin{example}
  Consider a family of sets $\mathcal J=\cc{X_\alpha}_{\alpha\in\Lambda}$. We may
  regard this as a category with no morphisms. We then have
  the obvious inclusion functor $D:\mathcal J\to\Set$. Consider the cartesian
  product with the projections
  \begin{align*}
    \pi_\alpha : \prod_{\alpha\in\Lambda} X_\alpha \to X_\alpha.
  \end{align*}
  This defines a natural transformation
  \begin{align*}
    \pi : \Delta\rr{\prod_{\alpha\in\Lambda} X_\alpha}\Rightarrow D
  \end{align*}
  In particular, there are no non-identity arrows in $\mathcal J$ so
  naturality is trivially satisfied.
\end{example}

It is tempting to think of a cone as merely an object. This is problematic as
the natural transformation is not unique, even when the object is fixed. In
fact, if we have a cone $(C,\phi)$ then any arrow $f:C'\to C$ induces another
$D$-cone $(C',\phi\circ f)$. In particular, any endomorphism $f:C\to C$ induces
its own cone $(C,\phi\circ f)$.


Cones are objects with additional structure. Morphisms between them must preserve
this structure.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram and consider cones $(C,\phi)$ and
  $(C',\phi')$. Then a \emph{morphism of cones $f:(C,\phi)\to(C',\phi')$} consists of
  an arrow $f:C\to C'$ such that, for all $J\in\cat{J}$, the following
  commutes:
  \begin{equation}
    % https://q.uiver.app/?q=WzAsMyxbMCwwLCJDIl0sWzIsMCwiQyciXSxbMSwxLCJESiJdLFswLDEsImYiXSxbMSwyLCJcXHBoaV9KJyJdLFswLDIsIlxccGhpX0oiLDJdXQ==
    \begin{tikzcd}
      C && {C'} \\
        & DJ
        \arrow["f", from=1-1, to=1-3]
        \arrow["{\phi_J'}", from=1-3, to=2-2]
        \arrow["{\phi_J}"', from=1-1, to=2-2]
    \end{tikzcd}
  \end{equation}
\end{definition}

We now have a category of cones for every diagram.
A cone that factors through every other cone is a limit.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{limit of $D$} is a cone
  $(C,\phi)$ such that, for all other cones $(C',\phi')$, there is a unique morphism
  $(C',\phi')\to(C,\phi)$.
\end{definition}

One may think of a limit has having the least amount of information to be a cone.
This intuition is particularly helpful because limits are unique up to isomorphism.

\begin{proposition}\label{prop:limits_are_unique}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. If $\phi:\Delta C\Rightarrow D$
  and $\psi:\Delta C'\Rightarrow D$ are limits then they are isomorphic as cones.
  \begin{proof}
    By definition, there are unique cone morphisms $f:\phi\to\psi$ and
    $g:\psi\to\phi$. By definition, the following commutes:
    \begin{equation}
      % https://q.uiver.app/?q=WzAsNCxbMCwwLCJDIl0sWzIsMCwiQyciXSxbMiwyLCJESiJdLFs0LDAsIkMiXSxbMCwxLCJmIl0sWzEsMiwiXFxwc2kiXSxbMCwyLCJcXHBoaSIsMl0sWzMsMiwiXFxwaGkiXSxbMSwzLCJnIl1d
      \begin{tikzcd}
        C && {C'} && C \\
        \\
          && DJ
          \arrow["f", from=1-1, to=1-3]
          \arrow["\psi", from=1-3, to=3-3]
          \arrow["\phi"', from=1-1, to=3-3]
          \arrow["\phi", from=1-5, to=3-3]
          \arrow["g", from=1-3, to=1-5]
      \end{tikzcd}
    \end{equation}
    Thus $g\circ f:\phi\to\phi$ must be the unique morphism of cones, i.e.
    the identity. By symmetry we find $f\circ g=\id$ and the claim follows.
  \end{proof}
\end{proposition}

\begin{notation}
  This observation allows us to greatly improve our notation. Consider a diagram
  $D$ with a limit in $\cat{C}$. We may now choose a particular limit and denote
  it by
  \begin{align*}
    \lim_{J\in\cat{J}}\rr{DJ},\hs\text{or}\hs\lim D,
  \end{align*}
  depending on whether we need to specify the object.
\end{notation}

Note however that the limit of a particular diagram may not exist. Unfortunately, we
are not in a position to give a meaningful example because the category $\Set$ has
all small limits.

\begin{theorem}
  Let $\scat J$ be a small category and $D:\scat J\to\Set$ a diagram. Then $D$ has a limit.
\end{theorem}

\subsection{Colimits}

Colimits are dual to limits. Almost all considerations of the last section translate
to colimits. Fix a category $\cat{C}$.

Firstly, we have cocones. Where cones provide a way to enter a diagram that is consistent
with its structure, cocones provide such a way to leave the diagram.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{cocone of $D$} consists of
  \begin{enumerate}
    \item an object $C\in\cat{C}$;
    \item a natural transformation $\phi:D\Rightarrow\Delta C$.
  \end{enumerate}
  Consider cocones $(C,\phi)$ and $(C',\phi')$. Then a \emph{morphism of cocones $f:(C,\phi)\to(C',\phi')$} consists of
  an arrow $f:C\to C'$ such that, for all $J\in\cat{J}$, the following
  commutes:
  \begin{equation}
    % https://q.uiver.app/?q=WzAsMyxbMCwxLCJDIl0sWzIsMSwiQyciXSxbMSwwLCJESiJdLFswLDEsImYiLDJdLFsyLDEsIlxccGhpX0onIl0sWzIsMCwiXFxwaGlfSiIsMl1d
    \begin{tikzcd}
  & DJ \\
      C && {C'}
      \arrow["f"', from=2-1, to=2-3]
      \arrow["{\phi_J'}", from=1-2, to=2-3]
      \arrow["{\phi_J}"', from=1-2, to=2-1]
    \end{tikzcd}
  \end{equation}
\end{definition}

For a diagram $D:\cat{J}\to\cat{C}$, a cocone $(C,\phi)$ is a choice of object
$C\in\cat{C}$ and morphisms $\phi_J:DJ\to C$ for all $J\in\cat{J}$ such that
the following commutes:
\begin{equation}
  % https://q.uiver.app/?q=WzAsMyxbMCwwLCJESiJdLFsyLDAsIkRKJyJdLFsxLDEsIkMiXSxbMCwxLCJEZiJdLFsxLDIsIlxccGhpX3tKJ30iXSxbMCwyLCJcXHBoaV9KIiwyXV0=
  \begin{tikzcd}
    DJ && {DJ'} \\
       & C
       \arrow["Df", from=1-1, to=1-3]
       \arrow["{\phi_{J'}}", from=1-3, to=2-2]
       \arrow["{\phi_J}"', from=1-1, to=2-2]
  \end{tikzcd}
\end{equation}

A cocone that factors through every other cocone is a colimit.

\begin{definition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. A \emph{colimit of $D$} is a cocone
  $(C,\phi)$ such that, for all other cocones $(C',\phi')$, there is a unique morphism
  $(C,\phi)\to(C',\phi)$.
\end{definition}

One may think of a limit has having the least amount of information to be a cone.
This intuition is particularly helpful because limits are unique up to isomorphism.

\begin{proposition}
  Let $D:\cat{J}\to\cat{C}$ be a diagram. If $\phi:D\Rightarrow\Delta C$
  and $\psi:D\Rightarrow\Delta C'$ are colimits then they are isomorphic as cocones.
  \begin{proof}
    Similar to \ref{prop:limits_are_unique}.
  \end{proof}
\end{proposition}

\begin{notation}
  Once again, we improve the notation. Consider a diagram
  $D$ with a limit in $\cat{C}$. We may now choose a particular limit and denote
  it by
  \begin{align*}
    \colim_{J\in\cat{J}}\rr{DJ},\hs\text{or}\hs\colim D,
  \end{align*}
  depending on whether we need to specify the object.
\end{notation}

Note however that the colimit of a particular diagram may not exist. Unfortunately, we
are not in a position to give a meaningful example because the category $\Set$ has
all small colimits.

\begin{theorem}
  Let $\scat J$ be a small category and $D:\scat J\to\Set$ a diagram. Then $D$ has a colimit.
\end{theorem}

\section{Stalks}

Sheaves take values on open sets. That means that it is not immediately
possible to talk about the value of a sheaf at a singular point. The
values will always depend on the neighbourhood we choose. However,
we may use colimits to define stalks which are a reasonable approximation
of the value a a sheaf takes at a single point. This is particularly
remarkable because there may not be a smallest open set containing
the point yet the stalk always exists.

\subsection{As colimits and sets}

Let $X$ be a topological space and consider an $x\in X$. Let
$\Open(x)$ be the category of open neighbourhoods of $x$ in $X$.
We have an obvious inclusion $\Open_x(X)\hookrightarrow\Open(X)$.
Note that this diagram may not have a limit in $\Open(X)$:
e.g. if $X=\R$ then there is no smallest open set containing
$x$. However, if we apply the sheaf then we have a diagram
$\Open_x(X)^\text{op}\to\Set$ which does have a colimit.

\begin{definition}
  Let $\mathscr F$ be a sheaf on $X$ and let $x\in X$.
  The \emph{stalk $\mathscr F_x$ of $\mathscr F$ at $X$} is the
  colimit of the sheaf applied to the category of open sets containing $x$.
  We may write
  \begin{align*}
    \mathscr F_x = \colim_{U\ni x} \mathscr F(U).
  \end{align*}
  Now let $U\subseteq X$ be open and $s\in\mathscr F(U)$.
  The \emph{germ of $s$} is given by the value of $s$ under the
  natural transformation $\phi:\mathscr F\Rightarrow\Delta\mathscr F_x$,
  i.e. $\phi_U(s)\in\mathscr F_x$.
\end{definition}

While the above construction captures precisely what we mean by
evaluating a sheaf at a point and provides us with pleasant universal
properties, it may be difficult to calculate stalks this way. Luckily,
there exists an explicit way to construct stalks:

\begin{proposition}
  Let $\mathscr F$ be a sheaf, and let $x \in X$. Then the stalk of $\mathscr F$
  at $x$ is the set
  \begin{align*}
    \mathscr F_x = \cc{(U, \sigma) : U \in \Open(X), \sigma \in \mathscr F(U)} / \sim
  \end{align*}
  where $(U, \sigma) \sim (V, \tau)$ if and only if there is an open neighbourhood
  $W$ of $x$, contained in $U \cap V$, such that $\sigma|_W = \tau|_W$.
\end{proposition}

\begin{example}
  Consider the map $p:S^1\to S^1$ given by $z\mapsto z^k$ for $k > 1$ and the
  sheaf of sections $\mathscr F = \Gamma(-, p)$. In this case we limit
  ourselves to studying connected open sets of $S^1$. This is because when
  working over stalks even if we had a disconnected open set, we can shrink it
  to a connected component. Clearly, every small connected neighbourhood of
  some point $x \in S^1$ will have $k$ sections, i.e. $|\mathscr F_x| = k$.
\end{example}

\begin{example}
  Consider the projection map $p:S^1\times\cc{1,\ldots,k}\to S^1$, and let
  $\mathscr F = \Gamma(-, p)$ be its sheaf of sections. By a similar analysis to
  the previous example, we also get that $|\mathscr F_x| = k$.
\end{example}

We now see that constant sheaves truly are constant.

\begin{lemma}\label{lemma:constant_stalks}
  Let $S$ be any set and $X$ a topological space. Then, for all
  $x\in X$, $\mathscr C^S_x = S$.
\end{lemma}

\begin{example}
  Let $p:Y\to X$ and consider the sheaf of sections $\Gamma(-,p)$.
  It need not be the case that $\mathscr F_x = \inv p(x)$.
  \begin{proof}
    Consider the projection $p$ from $(\R+\R)/\sim$ to $\R$ where we have
    unified a single point $x\in R$. Then $\vv{\mathscr F_x}=4$
    and $\vv{\inv p(x)}=1$.
  \end{proof}
\end{example}

\begin{example}
  Let $\mathscr F$ be a locally constant sheaf on a simply connected space $X$.
  If $\mathscr F$ has at least one non-empty stalk, then $\mathscr F(X)$ is
  non-empty.
  \begin{proof}
    By \ref{thm:locally_constant_simply_connected},
    $\mathscr F$ is constant, i.e. $\mathscr F=\mathscr C^S$ for
    some $S$. By \ref{lemma:constant_stalks}, $\mathscr F_x = S$
    for all $x\in X$. In particular, $X$ is connected so
    $\mathscr F(X) = S \neq \emptyset$.
  \end{proof}
\end{example}

\subsection{Relation of sheaves and stalks}

\begin{lemma}\label{lemma:locally_constant_stalks}
  Let $\mathscr F$ be a locally constant sheaf on $X$. Then, for all $x\in X$,
  there exists an open $U\subseteq X$ with $x\in U$ such that $\mathscr
  F(U)=\mathscr F_x$.
  \begin{proof}
    Let $x\in X$. Note for some connected neighbourhood
    $U\subseteq X$ of $x$ and some
    set $S$ we have $\restrict{\mathscr F}{U} \cong \mathscr C^S$.
    This implies $\mathscr F(U) = \restrict{\mathscr F}{U}(U)
    \cong \mathscr C^S(U) = S$.
    Moreover, $\rr{\restrict{\mathscr F}{U}}_x \cong \mathscr C^S_x = S$.
    In particular, $\mathscr F_x \cong S$.
    Thus $\mathscr F(U) = \mathscr F_x$.
  \end{proof}
\end{lemma}

\begin{theorem}
  Let $\mathscr F$ and $\mathscr G$ on $X$. If, for all $x$,
  $\mathscr F_x$ = $\mathscr G_x$, then every morphism of sheaves
  $\mathscr F\to\mathscr G$ is an isomorphism.
\end{theorem}

\begin{example}
  Consider the maps $p:S^1\to S^1$ given by $z\mapsto z^k$ for some $k>1$
  and the projection $p':S^1\times\cc{1,\ldots,k}\to S^1$. We have sheaves
  of sections $\mathscr F=\Gamma(-,p)$ and $\mathscr G=\Gamma(-,p')$
  and $\mathscr F_z=\mathscr G_z$ in the sense that the colimits are
  isomorphic as cocones. However, there is no natural transformation
  $\mathscr F\Rightarrow\mathscr G$ so these sheaves are not isomorphic.
\end{example}

\begin{example}
  Let $\mathscr F$ be a locally constant sheaf on $\R$. If
  $\vv{\mathscr F_0}=3$, then $\vv{\mathscr F(\R\setminus\cc{0})}=9$.
  \begin{proof}
    Note that $\R$ is simply connected so by
    \ref{thm:locally_constant_simply_connected} it must be that $\mathscr F$ is
    constant. Let $S=\mathscr F_0$. By \ref{lemma:locally_constant_stalks},
    there is a connected neighbourhood $x\in U$ such that
    $\mathscr F(U) = S$. As $\mathscr F$ is constant we must have
    $\mathscr F = \mathscr C^S$. Thus
    $\mathscr F(\R\setminus\cc{0}) = S\times S$ and so
    $\vv{S}=3$ proves the claim.
  \end{proof}
\end{example}

\begin{example}
  Let $Y=(\R+\R)/\sim$ where we have identified all but a countable set of points
  $S\subseteq\R$ and let $p:Y\to\R$ be the projection. Consider the sheaf of
  sections $\mathscr F = \Gamma(-,p)$.
  Note that for all connected opens $U\subseteq\R\setminus S$
  we have a single section $U\to Y$ given by the identity. In particular,
  for all $x\in\R\setminus S$, $\vv{\mathscr F_x} = 1$.

  However, if $U\subseteq\R$ is connected and $S\cap U = \cc{x}$
  then there are exactly two sections $U\to Y$, corresponding
  to the injections $\R\to\R + \R$. Thus $\vv{\mathscr F_x}=2$.
\end{example}

\subsection{Products of sheaves}

\begin{definition}\label{def:product_sheaf}
  Let $\mathscr F$ be a sheaf on $X$ and let $\mathscr G$ be a sheaf
  on $Y$. Now let $B_X$ and $B_Y$ be bases of $X$ and $Y$ respectively.
  Define the \emph{product sheaf} $\mathscr F\times\mathscr G$
  on $X\times Y$ as follows: for all $U\in B_X$ and $V\in B_Y$,
  \begin{align}\label{eq:product_sheaf}
    (\mathscr F\times\mathscr G)(U\times V) = \mathscr F(U) \times \mathscr
    G(V).
  \end{align}
\end{definition}

While (\ref{eq:product_sheaf}) looks very elegant, thep product sheaf
has some shortcomings. In particular, we would like the stalks to agree.
However, we find that the equation
\begin{align*}
  \rr{\mathscr F\times\mathscr G}_{(x,y)}
  = \colim_{W\ni(x,y)}\rr{\mathscr F\times\mathscr G}(W)
  = \colim_{U\ni x}\mathscr F(U)\times\colim_{V\ni y}\mathscr G(V)
  = \mathscr F_x \times \mathscr G_x
\end{align*}
does not hold in general. For this reason we introduce the box product.

\begin{definition}
  Let $\mathscr F$ be a sheaf on $X$ and let $\mathscr G$ be a sheaf
  on $Y$. Let $A$ be a basis for $X$ and $B$ be a basis for $Y$.
  Define the sheaf $\mathscr F\boxtimes\mathscr G$ on $X\times Y$
  by
  \begin{align*}
    (\mathscr F\boxtimes\mathscr G)(U) = \ldots
  \end{align*}
\end{definition}

\begin{theorem}
  Let $\mathscr F$ and $\mathscr G$ be sheaves on $X$ and $Y$, respectively.
  For all $x\in X$ and $y\in Y$,
  \begin{align*}
    (\mathscr F\boxtimes\mathscr G)_{(x,y)}
    = \mathscr F_x \times \mathscr G_y.
  \end{align*}
  \begin{proof}
    Missing def\ldots
  \end{proof}
\end{theorem}

\printbibliography{}

\end{document}
